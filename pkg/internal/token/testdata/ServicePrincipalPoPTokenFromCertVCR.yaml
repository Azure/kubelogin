---
version: 2
interactions:
    - id: 0
      request:
        proto: ""
        proto_major: 0
        proto_minor: 0
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: ""
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept-Encoding:
                - gzip
            Client-Request-Id:
                - 603ee4ad-772a-4888-82a3-51f7cbe8b9f3
            Return-Client-Request-Id:
                - "false"
            X-Client-Cpu:
                - amd64
            X-Client-Os:
                - linux
            X-Client-Sku:
                - MSAL.Go
            X-Client-Ver:
                - 1.2.0
        url: https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=https%3A%2F%2Flogin.microsoftonline.com%2FAZURE_TENANT_ID%2Foauth2%2Fv2.0%2Fauthorize
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 980
        uncompressed: false
        body: '{"tenant_discovery_endpoint":"https://login.microsoftonline.com/AZURE_TENANT_ID/v2.0/.well-known/openid-configuration","api-version":"1.1","metadata":[{"preferred_network":"login.microsoftonline.com","preferred_cache":"login.windows.net","aliases":["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{"preferred_network":"login.partner.microsoftonline.cn","preferred_cache":"login.partner.microsoftonline.cn","aliases":["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{"preferred_network":"login.microsoftonline.de","preferred_cache":"login.microsoftonline.de","aliases":["login.microsoftonline.de"]},{"preferred_network":"login.microsoftonline.us","preferred_cache":"login.microsoftonline.us","aliases":["login.microsoftonline.us","login.usgovcloudapi.net"]},{"preferred_network":"login-us.microsoftonline.com","preferred_cache":"login-us.microsoftonline.com","aliases":["login-us.microsoftonline.com"]}]}'
        headers:
            Access-Control-Allow-Methods:
                - GET, OPTIONS
            Access-Control-Allow-Origin:
                - '*'
            Cache-Control:
                - max-age=86400, private
            Client-Request-Id:
                - 603ee4ad-772a-4888-82a3-51f7cbe8b9f3
            Content-Length:
                - "980"
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Thu, 31 Aug 2023 17:07:22 GMT
            P3p:
                - CP="DSP CUR OTPi IND OTRi ONL FIN"
            Strict-Transport-Security:
                - max-age=31536000; includeSubDomains
            X-Content-Type-Options:
                - nosniff
            X-Ms-Ests-Server:
                - 2.1.16150.3 - SCUS ProdSlices
            X-Xss-Protection:
                - "0"
        status: 200 OK
        code: 200
        duration: 230.063698ms
    - id: 1
      request:
        proto: ""
        proto_major: 0
        proto_minor: 0
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: ""
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            Accept-Encoding:
                - gzip
            Client-Request-Id:
                - 0d698da6-bf09-4c87-887e-bddeb898b952
            Return-Client-Request-Id:
                - "false"
            X-Client-Cpu:
                - amd64
            X-Client-Os:
                - linux
            X-Client-Sku:
                - MSAL.Go
            X-Client-Ver:
                - 1.2.0
        url: https://login.microsoftonline.com/AZURE_TENANT_ID/v2.0/.well-known/openid-configuration
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 1753
        uncompressed: false
        body: '{"token_endpoint":"https://login.microsoftonline.com/AZURE_TENANT_ID/oauth2/v2.0/token","token_endpoint_auth_methods_supported":["client_secret_post","private_key_jwt","client_secret_basic"],"jwks_uri":"https://login.microsoftonline.com/AZURE_TENANT_ID/discovery/v2.0/keys","response_modes_supported":["query","fragment","form_post"],"subject_types_supported":["pairwise"],"id_token_signing_alg_values_supported":["RS256"],"response_types_supported":["code","id_token","code id_token","id_token token"],"scopes_supported":["openid","profile","email","offline_access"],"issuer":"https://login.microsoftonline.com/AZURE_TENANT_ID/v2.0","request_uri_parameter_supported":false,"userinfo_endpoint":"https://graph.microsoft.com/oidc/userinfo","authorization_endpoint":"https://login.microsoftonline.com/AZURE_TENANT_ID/oauth2/v2.0/authorize","device_authorization_endpoint":"https://login.microsoftonline.com/AZURE_TENANT_ID/oauth2/v2.0/devicecode","http_logout_supported":true,"frontchannel_logout_supported":true,"end_session_endpoint":"https://login.microsoftonline.com/AZURE_TENANT_ID/oauth2/v2.0/logout","claims_supported":["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],"kerberos_endpoint":"https://login.microsoftonline.com/AZURE_TENANT_ID/kerberos","tenant_region_scope":"WW","cloud_instance_name":"microsoftonline.com","cloud_graph_host_name":"graph.windows.net","msgraph_host":"graph.microsoft.com","rbac_url":"https://pas.windows.net"}'
        headers:
            Access-Control-Allow-Methods:
                - GET, OPTIONS
            Access-Control-Allow-Origin:
                - '*'
            Cache-Control:
                - max-age=86400, private
            Client-Request-Id:
                - 0d698da6-bf09-4c87-887e-bddeb898b952
            Content-Length:
                - "1753"
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Thu, 31 Aug 2023 17:07:22 GMT
            P3p:
                - CP="DSP CUR OTPi IND OTRi ONL FIN"
            Strict-Transport-Security:
                - max-age=31536000; includeSubDomains
            X-Content-Type-Options:
                - nosniff
            X-Ms-Ests-Server:
                - 2.1.16209.3 - SCUS ProdSlices
            X-Xss-Protection:
                - "0"
        status: 200 OK
        code: 200
        duration: 61.158756ms
    - id: 2
      request:
        proto: ""
        proto_major: 0
        proto_minor: 0
        content_length: 1210
        transfer_encoding: []
        trailer: {}
        host: ""
        remote_addr: ""
        request_uri: ""
        body: client_assertion=[REDACTED]&client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&client_id=[REDACTED]&client_info=1&grant_type=client_credentials&req_cnf=[REDACTED]&scope=[REDACTED]%2F.default+openid+offline_access+profile+openid+offline_access+profile&token_type=pop
        form:
            client_assertion:
                - '[REDACTED]'
            client_assertion_type:
                - urn:ietf:params:oauth:client-assertion-type:jwt-bearer
            client_id:
                - '[REDACTED]'
            client_info:
                - "1"
            grant_type:
                - client_credentials
            req_cnf:
                - '[REDACTED]'
            scope:
                - '[REDACTED]/.default openid offline_access profile'
            token_type:
                - pop
        headers:
            Accept-Encoding:
                - gzip
            Client-Request-Id:
                - c8476324-8b14-47f1-88c9-3d129a847b4b
            Content-Type:
                - application/x-www-form-urlencoded; charset=utf-8
            Return-Client-Request-Id:
                - "false"
            X-Client-Cpu:
                - amd64
            X-Client-Os:
                - linux
            X-Client-Sku:
                - MSAL.Go
            X-Client-Ver:
                - 1.2.0
        url: https://login.microsoftonline.com/AZURE_TENANT_ID/oauth2/v2.0/token
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 1475
        uncompressed: false
        body: '{"token_type":"Bearer","expires_in":86399,"ext_expires_in":86399,"access_token":"TEST_ACCESS_TOKEN"}'
        headers:
            Cache-Control:
                - no-store, no-cache
            Client-Request-Id:
                - c8476324-8b14-47f1-88c9-3d129a847b4b
            Content-Length:
                - "1475"
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Thu, 31 Aug 2023 17:07:23 GMT
            Expires:
                - "-1"
            P3p:
                - CP="DSP CUR OTPi IND OTRi ONL FIN"
            Pragma:
                - no-cache
            Strict-Transport-Security:
                - max-age=31536000; includeSubDomains
            X-Content-Type-Options:
                - nosniff
            X-Ms-Clitelem:
                - 1,0,0,,
            X-Ms-Ests-Server:
                - 2.1.16209.3 - WUS2 ProdSlices
            X-Xss-Protection:
                - "0"
        status: 200 OK
        code: 200
        duration: 614.589692ms
